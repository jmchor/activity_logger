<div class='row justify-content-center'>
	<div class='col-xl-8 col-lg-9 col-md-10 my-3'>
		<h2>{{user.username}}'s Profile</h2>
		<br />
		<img src='images/rubberduck.png' alt='' />

		<div class='row justify-content-center'>
			<div class='col-12 mt-3 mb-1'>

				<p>Name: {{user.username}}</p>
				<p>Email: {{user.email}}</p>
			</div>
		</div>

		<div class='row justify-content-center'>
			<div class='col-12 mt-3 mb-1'>
				<p class='text-center mx-3 mb-3 text-muted'>Member since {{memberDate}}</p>
			</div>
		</div>

		<div class='divider d-flex align-items-center'>
			<p class='text-center mx-3 mb-0 text-muted'>Options</p>
		</div>

		<div class='row row-cols-auto justify-content-center'>

			<form action='/update-password' method='POST' class='m-3'>

				<div class='row d-flex justify-content-around'>
					<div class='col-auto my-1 text-center'>
						<input type='password' name='password' placeholder='Enter Password' />
						<i
							class='bi bi-eye-slash togglePassword'
							role='button'
							id='togglePassword'
						></i>
					</div>

				</div>
				<div class='col-auto mx-auto'>
					<button class='btn btn-dark px-5' type='submit'>Update Password</button>
				</div>
			</form>

			<form action='/profile/delete-activities' method='POST' class='m-3'>
				<div class='row d-flex justify-content-around'>
					<div class='col-auto my-1 text-center'>
						<input type='password' name='password' placeholder='Enter Password' />
						<i
							class='bi bi-eye-slash togglePassword'
							role='button'
							id='togglePassword'
						></i>
					</div>
				</div>
				<div class='col-auto mx-auto'>
					<button class='btn btn-danger px-5' type='submit'>Delete All Activities</button>
				</div>
			</form>

			<form action='/profile/delete-account' method='POST' class='m-3'>
				<div class='row d-flex justify-content-around'>
					<div class='col-auto my-1 text-center'>
						<input type='password' name='password' placeholder='Enter Password' />
						<i
							class='bi bi-eye-slash togglePassword'
							role='button'
							id='togglePassword'
						></i>
					</div>
				</div>
				<div class='col-auto mx-auto'>
					<button class='btn btn-danger px-5' type='submit'>Delete Account</button>
				</div>
			</form>

		</div>

		{{#if errorMessage}}
			<p>{{errorMessage}}</p>
		{{/if}}

		{{#if successMessage}}
			<p>{{successMessage}}</p>
		{{/if}}

	</div>
</div>

{{!-- prettier-ignore --}}
<script>
        const toggleButtons = document.querySelectorAll('.togglePassword');
		toggleButtons.forEach((button) => {
			button.addEventListener('click', (e) => {
				const input = e.target.previousElementSibling;
				if (input.type === 'password') {
					input.type = 'text';
					e.target.classList.remove('bi-eye-slash');
					e.target.classList.add('bi-eye');
				} else {
					input.type = 'password';
					e.target.classList.remove('bi-eye');
					e.target.classList.add('bi-eye-slash');
				}
			});
		});

    </script>